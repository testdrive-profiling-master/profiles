<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
	<style type="text/css"> 
		@import url(StarterKit.css);
	</style>
	<script type="application/javascript">
	</script>
</head>
<body>
	<div class="canvas_outer">
		<div class="canvas_inner">
			<div class="button_area">
			FPGA Starter kit Demo
			</div>
			<canvas id="canvas" width="300" height="300" oncontextmenu='return false'>Your browser doesn't support canvas.</canvas>
			<script>
				(function() {
					var	htmlCanvas	= document.getElementById('canvas');
					var	ctx			= htmlCanvas.getContext('2d');
					var img_board	= new Image();
					var x_pos		= 0;
					var y_pos		= 0;

				   initialize();

				   function initialize() {
						img_board.src	= 'img/background.png';
			
						window.addEventListener('resize', resizeCanvas, false);
						resizeCanvas();
						setInterval(redraw, 30);
						htmlCanvas.addEventListener('click', clickCanvas, false);
					}

					// Display custom canvas. In this case it's a blue, 5 pixel 
					// border that resizes along with the browser window.
					function redraw() {
						var scale;
						ctx.globalCompositeOperation = 'source-over';
						ctx.clearRect(0, 0, htmlCanvas.width, htmlCanvas.height); // 캔버스를 비운다

						{
							var scale_x = (htmlCanvas.width - 20) / img_board.width;
							var scale_y = (htmlCanvas.height - 20) / img_board.height;
							scale	= scale_x < scale_y ? scale_x : scale_y;
							if (scale <= 0) return;
						}
						
						ctx.save();
						ctx.translate((htmlCanvas.width - scale * img_board.width)/2, (htmlCanvas.height - scale * img_board.height)/2);
						ctx.scale(scale, scale);
						ctx.drawImage(img_board, 0, 0);
						
						//ctx.translate(x_pos, y_pos);
						ctx.drawImage(img_board, x_pos, y_pos, 20, 20);
						{
							ctx.save();
							ctx.globalCompositeOperation = 'screen';
							// do something...
							ctx.restore();
						}
						ctx.restore();
					}

					// Runs each time the DOM window resize event fires.
					// Resets the canvas dimensions to match window,
					// then draws the new borders accordingly.
					function resizeCanvas() {
						htmlCanvas.width	= window.innerWidth;
						htmlCanvas.height	= window.innerHeight;
						redraw();
					}
					
					function clickCanvas() {
					var elemLeft = htmlCanvas.offsetLeft + htmlCanvas.clientLeft,
						elemTop = htmlCanvas.offsetTop + htmlCanvas.clientTop;
					
							var x = event.pageX - elemLeft,
								y = event.pageY - elemTop;

							x_pos	+= 10;
							y_pos	+= 10;
					}
				})();
			</script>
		</div>
	</div>
</body>
</html>